title: Auth Method Access Matrix
description: >
  This document defines which authorization methods grant access to which
  operations in our public APIs

  Document has the following structure:
   * a set of all existing auth methods,
   * a set of available auth methods,
    * a set of available APIs for each of the available methods,
      * a set of accessible operations for each of the APIs.
methods:
  - "SessionToken"
  - "ApiKeyToken"
  - "InvoiceAccessToken"
  - "CustomerAccessToken"
  - "InvoiceTemplateAccessToken"

permissions:
  SessionToken:
    apis:
      CommonAPI:
        operations:
        # Shop
          - "CreateCustomer"
          - "CreateInvoiceTemplate"
          - "CreateInvoice"
          - "CreatePayout"
          - "ActivateShop"
          - "SuspendShop"
          - "GetShopByID"
          - "GetShopByIDForParty"
          - "ActivateShopForParty"
          - "SuspendShopForParty"
          - "GetPaymentConversionStats"
          - "GetPaymentRevenueStats"
          - "GetPaymentGeoStats"
          - "GetPaymentRateStats"
          - "GetPaymentMethodStats"
          - "SearchInvoices"
          - "SearchPayments"
          - "SearchPayouts"
          - "SearchRefunds"
          - "GetReports"
          - "GetReportsForParty"
          - "CreateReport"
          - "CreateReportForParty"
          - "GetReport"
          - "GetReportForParty"
          - "DownloadFile"
          - "DownloadFileForParty"

        # Invoice
          - "CreateInvoiceAccessToken"
          - "GetInvoiceByID"
          - "GetInvoiceByExternalID"
          - "FulfillInvoice"
          - "RescindInvoice"
          - "GetInvoiceEvents"
          - "GetInvoicePaymentMethods"
          - "CreatePayment"
          - "GetPayments"
          - "GetPaymentByID"
          - "GetPaymentByExternalID"
          - "CancelPayment"
          - "CapturePayment"
          - "CreateRefund"
          - "GetRefunds"
          - "GetRefundByID"
          - "GetRefundByExternalID"
          - "GetChargebacks"
          - "GetChargebackByID"
          - "SearchInvoices"
          - "SearchPayments"
          - "SearchRefunds"

        # Invoice Template
          - "GetInvoiceTemplateByID"
          - "UpdateInvoiceTemplate"
          - "DeleteInvoiceTemplate"
          - "CreateInvoiceWithTemplate"
          - "GetInvoicePaymentMethodsByTemplateID"

        # Customer
          - "GetCustomerById"
          - "DeleteCustomer"
          - "GetCustomerEvents"
          - "CreateCustomerAccessToken"
          - "CreateBinding"
          - "GetBindings"
          - "GetBinding"

        # Webhook
          - "GetWebhookByID"
          - "DeleteWebhookByID"

        # Report
          - "GetReport"
          - "GetReportForParty"
          - "DownloadFile"
          - "DownloadFileForParty"

        # File
          - "DownloadFile"
          - "DownloadFileForParty"

        # Payout
          - "GetPayout"
          - "SearchPayouts"

        # Party
          - "GetClaims"
          - "GetClaimByID"
          - "CreateClaim"
          - "RevokeClaimByID"
          - "GetContracts"
          - "GetContractByID"
          - "GetContractAdjustments"
          - "GetContractAdjustmentByID"
          - "GetContractsForParty"
          - "GetContractByIDForParty"
          - "GetContractAdjustmentsForParty"
          - "GetContractAdjustmentByIDForParty"
          - "GetPayoutTools"
          - "GetPayoutToolByID"
          - "GetPayoutToolsForParty"
          - "GetPayoutToolByIDForParty"
          - "GetMyParty"
          - "ActivateMyParty"
          - "SuspendMyParty"
          - "GetShops"
          - "GetShopsForParty"
          - "CreateWebhook"
          - "GetWebhooks"

        # Universal
          - "GetAccountByID"
          - "GetCategories"
          - "GetCategoryByRef"
          - "GetLocationsNames"
          - "GetPaymentInstitutions"
          - "GetPaymentInstitutionByRef"
          - "GetPaymentInstitutionPaymentTerms"
          - "GetPaymentInstitutionPayoutMethods"
          - "GetPaymentInstitutionPayoutSchedules"
          - "GetScheduleByRef"


  ApiKeyToken:
    apis:
      CommonAPI:
        operations:
        # Shop
          - "CreateCustomer"
          - "CreateInvoiceTemplate"
          - "CreateInvoice"
          - "CreatePayout"
          - "ActivateShop"
          - "SuspendShop"
          - "GetShopByID"
          - "GetShopByIDForParty"
          - "ActivateShopForParty"
          - "SuspendShopForParty"
          - "GetPaymentConversionStats"
          - "GetPaymentRevenueStats"
          - "GetPaymentGeoStats"
          - "GetPaymentRateStats"
          - "GetPaymentMethodStats"
          - "SearchInvoices"
          - "SearchPayments"
          - "SearchPayouts"
          - "SearchRefunds"
          - "GetReports"
          - "GetReportsForParty"
          - "CreateReport"
          - "CreateReportForParty"
          - "GetReport"
          - "GetReportForParty"
          - "DownloadFile"
          - "DownloadFileForParty"

        # Invoice
          - "CreateInvoiceAccessToken"
          - "GetInvoiceByID"
          - "GetInvoiceByExternalID"
          - "FulfillInvoice"
          - "RescindInvoice"
          - "GetInvoiceEvents"
          - "GetInvoicePaymentMethods"
          - "CreatePayment"
          - "GetPayments"
          - "GetPaymentByID"
          - "GetPaymentByExternalID"
          - "CancelPayment"
          - "CapturePayment"
          - "CreateRefund"
          - "GetRefunds"
          - "GetRefundByID"
          - "GetRefundByExternalID"
          - "GetChargebacks"
          - "GetChargebackByID"
          - "SearchInvoices"
          - "SearchPayments"
          - "SearchRefunds"

        # Invoice Template
          - "GetInvoiceTemplateByID"
          - "UpdateInvoiceTemplate"
          - "DeleteInvoiceTemplate"
          - "CreateInvoiceWithTemplate"
          - "GetInvoicePaymentMethodsByTemplateID"

        # Customer
          - "GetCustomerById"
          - "DeleteCustomer"
          - "GetCustomerEvents"
          - "CreateCustomerAccessToken"
          - "CreateBinding"
          - "GetBindings"
          - "GetBinding"

        # Webhook
          - "GetWebhookByID"
          - "DeleteWebhookByID"

        # Report
          - "GetReport"
          - "GetReportForParty"
          - "DownloadFile"
          - "DownloadFileForParty"

        # File
          - "DownloadFile"
          - "DownloadFileForParty"

        # Payout
          - "GetPayout"
          - "SearchPayouts"

        # Party
          - "GetClaims"
          - "GetClaimByID"
          - "CreateClaim"
          - "RevokeClaimByID"
          - "GetContracts"
          - "GetContractByID"
          - "GetContractAdjustments"
          - "GetContractAdjustmentByID"
          - "GetContractsForParty"
          - "GetContractByIDForParty"
          - "GetContractAdjustmentsForParty"
          - "GetContractAdjustmentByIDForParty"
          - "GetPayoutTools"
          - "GetPayoutToolByID"
          - "GetPayoutToolsForParty"
          - "GetPayoutToolByIDForParty"
          - "GetMyParty"
          - "ActivateMyParty"
          - "SuspendMyParty"
          - "GetShops"
          - "GetShopsForParty"
          - "CreateWebhook"
          - "GetWebhooks"

        # Universal
          - "GetAccountByID"
          - "GetCategories"
          - "GetCategoryByRef"
          - "GetLocationsNames"
          - "GetPaymentInstitutions"
          - "GetPaymentInstitutionByRef"
          - "GetPaymentInstitutionPaymentTerms"
          - "GetPaymentInstitutionPayoutMethods"
          - "GetPaymentInstitutionPayoutSchedules"
          - "GetScheduleByRef"

  InvoiceAccessToken:
    apis:
      CommonAPI:
        operations:
        # Invoice
          - "GetInvoiceByID"
          - "GetInvoiceEvents"
          - "GetInvoicePaymentMethods"
          - "CreatePayment"
          # NOTE
          # Looks like some third-party integrations depend on `GetPayments`
          # availability with invoice access tokens.
          # Should we eventually allow this for specific parties only?
          - "GetPayments"
          - "GetPaymentByID"

        # Tokenization
          - "CreatePaymentResource"

  CustomerAccessToken:
    apis:
      CommonAPI:
        operations:
        # Customer
          - "GetCustomerById"
          - "GetCustomerEvents"
          - "CreateBinding"
          - "GetBinding"

        # Tokenization
          - "CreatePaymentResource"

  InvoiceTemplateAccessToken:
    apis:
      CommonAPI:
        operations:
        # Invoice Template
          - "GetInvoiceTemplateByID"
          - "CreateInvoiceWithTemplate"
          - "GetInvoicePaymentMethodsByTemplateID"
