title: Auth Method Access Matrix
description: >
  This document defines which authorization methods grant access to which
  operations in out public APIs

  Document has the following structure:
   * a set of available auth methods
   * a set of available APIs
    * a set of available operations for each API
      * a set of available authorization methods for each operation

auth_methods:
  - "SessionToken"
  - "ApiKeyToken"
  - "InvoiceAccessToken"
  - "CustomerAccessToken"
  - "InvoiceTemplateAccessToken"

apis:
  CommonAPI:
    operations:
    # Shop
      - "CreateCustomer":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateInvoiceTemplate":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateInvoice":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreatePayout":
        - "SessionToken"
        - "ApiKeyToken"

      - "ActivateShop":
        - "SessionToken"
        - "ApiKeyToken"
      - "SuspendShop":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetShopByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetShopByIDForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "ActivateShopForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "SuspendShopForParty":
        - "SessionToken"
        - "ApiKeyToken"

      - "GetPaymentConversionStats":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentRevenueStats":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentGeoStats":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentRateStats":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentMethodStats":
        - "SessionToken"
        - "ApiKeyToken"

      - "SearchInvoices":
        - "SessionToken"
        - "ApiKeyToken"
      - "SearchPayments":
        - "SessionToken"
        - "ApiKeyToken"
      - "SearchPayouts":
        - "SessionToken"
        - "ApiKeyToken"
      - "SearchRefunds":
        - "SessionToken"
        - "ApiKeyToken"

      - "GetReports":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetReportsForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateReport":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateReportForParty":
        - "SessionToken"
        - "ApiKeyToken"

      - "GetReport":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetReportForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "DownloadFile":
        - "SessionToken"
        - "ApiKeyToken"
      - "DownloadFileForParty":
        - "SessionToken"
        - "ApiKeyToken"

    # Invoice
      - "CreateInvoiceAccessToken":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetInvoiceByID":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceAccessToken"
      - "GetInvoiceByExternalID":
        - "SessionToken"
        - "ApiKeyToken"
      - "FulfillInvoice":
        - "SessionToken"
        - "ApiKeyToken"
      - "RescindInvoice":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetInvoiceEvents":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceAccessToken"
      - "GetInvoicePaymentMethods":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceAccessToken"
      - "CreatePayment":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceAccessToken"
      - "GetPayments":
        - "SessionToken"
        - "ApiKeyToken"
        # NOTE
        # Looks like some third-party integrations depend on `GetPayments`
        # availability with invoice access tokens.
        # Should we eventually allow this for specific parties only?
        - "InvoiceAccessToken"
      - "GetPaymentByID":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceAccessToken"
      - "GetPaymentByExternalID":
        - "SessionToken"
        - "ApiKeyToken"
      - "CancelPayment":
        - "SessionToken"
        - "ApiKeyToken"
      - "CapturePayment":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateRefund":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetRefunds":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetRefundByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetRefundByExternalID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetChargebacks":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetChargebackByID":
        - "SessionToken"
        - "ApiKeyToken"

      - "SearchInvoices":
        - "SessionToken"
        - "ApiKeyToken"
      - "SearchPayments":
        - "SessionToken"
        - "ApiKeyToken"
      - "SearchRefunds":
        - "SessionToken"
        - "ApiKeyToken"

    # Invoice Template
      - "GetInvoiceTemplateByID":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceTemplateAccessToken"
      - "UpdateInvoiceTemplate":
        - "SessionToken"
        - "ApiKeyToken"
      - "DeleteInvoiceTemplate":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateInvoiceWithTemplate":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceTemplateAccessToken"
      - "GetInvoicePaymentMethodsByTemplateID":
        - "SessionToken"
        - "ApiKeyToken"
        - "InvoiceTemplateAccessToken"

    # Customer
      - "GetCustomerById":
        - "SessionToken"
        - "ApiKeyToken"
        - "CustomerAccessToken"
      - "DeleteCustomer":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetCustomerEvents":
        - "SessionToken"
        - "ApiKeyToken"
        - "CustomerAccessToken"
      - "CreateCustomerAccessToken":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateBinding":
        - "SessionToken"
        - "ApiKeyToken"
        - "CustomerAccessToken"
      - "GetBindings":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetBinding":
        - "SessionToken"
        - "ApiKeyToken"
        - "CustomerAccessToken"

    # Webhook
      - "GetWebhookByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "DeleteWebhookByID":
        - "SessionToken"
        - "ApiKeyToken"

    # Report
      - "GetReport":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetReportForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "DownloadFile":
        - "SessionToken"
        - "ApiKeyToken"
      - "DownloadFileForParty":
        - "SessionToken"
        - "ApiKeyToken"

    # File
      - "DownloadFile":
        - "SessionToken"
        - "ApiKeyToken"
      - "DownloadFileForParty":
        - "SessionToken"
        - "ApiKeyToken"

    # Payout
      - "GetPayout":
        - "SessionToken"
        - "ApiKeyToken"
      - "SearchPayouts":
        - "SessionToken"
        - "ApiKeyToken"

    # Party
      - "GetClaims":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetClaimByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "CreateClaim":
        - "SessionToken"
        - "ApiKeyToken"
      - "RevokeClaimByID":
        - "SessionToken"
        - "ApiKeyToken"

      - "GetContracts":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractAdjustments":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractAdjustmentByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractsForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractByIDForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractAdjustmentsForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetContractAdjustmentByIDForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPayoutTools":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPayoutToolByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPayoutToolsForParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPayoutToolByIDForParty":
        - "SessionToken"
        - "ApiKeyToken"

      - "GetMyParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "ActivateMyParty":
        - "SessionToken"
        - "ApiKeyToken"
      - "SuspendMyParty":
        - "SessionToken"
        - "ApiKeyToken"

      - "GetShops":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetShopsForParty":
        - "SessionToken"
        - "ApiKeyToken"

      - "CreateWebhook":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetWebhooks":
        - "SessionToken"
        - "ApiKeyToken"

    # Tokenization
      - "CreatePaymentResource":
        - "InvoiceAccessToken"
        - "CustomerAccessToken"

    # Universal
      - "GetAccountByID":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetCategories":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetCategoryByRef":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetLocationsNames":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentInstitutions":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentInstitutionByRef":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentInstitutionPaymentTerms":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentInstitutionPayoutMethods":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetPaymentInstitutionPayoutSchedules":
        - "SessionToken"
        - "ApiKeyToken"
      - "GetScheduleByRef":
        - "SessionToken"
        - "ApiKeyToken"
